---
import AppLayout from './AppLayout.astro';
export interface Props {
  title: string; description?: string; date?: string; updated?: string; tags?: string[]; hero?: string;
}
const { title, description = '', date, updated, tags = [], hero } = Astro.props;
const url = Astro.request.url;
const jsonLd = {
  "@context":"https://schema.org","@type":"Article","headline": title,
  "description": description || undefined,"datePublished": date || undefined,
  "dateModified": updated || date || undefined,"inLanguage":"zh-CN",
  "mainEntityOfPage": url,"author": { "@type":"Person","name":"Footy Analytics" },
  "keywords": tags.join(', ')
};
---
<AppLayout title={title} description={description} jsonLd={jsonLd}>
  <style>
    article{max-width:820px;margin:0 auto}
    .meta{color:#666;margin:.5rem 0 1rem}
    .hero{margin:0 0 1rem 0;border-radius:12px;overflow:hidden}
    .hero img{width:100%;height:auto;display:block}
    article :where(h2,h3){margin-top:1.2rem}
    article :where(code,pre){font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    pre{background:#fafafa;border:1px solid #eee;border-radius:10px;padding:12px;overflow:auto}
  </style>
  <article>
    {hero && <div class="hero"><img src={hero} alt={title} loading="lazy"/></div>}
    <h1>{title}</h1>
    <div class="meta">
      {date && <>发布：{new Date(date).toLocaleDateString('zh-CN')}</>}
      {updated && <> · 更新：{new Date(updated).toLocaleDateString('zh-CN')}</>}
      {tags.length > 0 && <> · 标签：{tags.join(' / ')}</>}
    </div>
    <slot />
  </article>
</AppLayout>
