---
import HeadMeta   from "./HeadMeta.astro";
import WebsiteLD  from "./jsonld/Website.astro";
import ArticleLD  from "./jsonld/Article.astro";

interface Props {
  kind?: 'website' | 'article';
  title: string;
  description?: string;
  image?: string;
  canonical?: string;
  datePublished?: string;
  dateModified?: string;
}
const {
  kind = 'website',
  title,
  description = '',
  image,
  canonical,
  datePublished,
  dateModified
} = Astro.props;

const canon = canonical ?? new URL(Astro.url.pathname, Astro.site).toString();
---
{kind === 'article'
 ? <>
     <HeadMeta type="article" title={title} description={description} image={image} canonical={canon} datePublished={datePublished} dateModified={dateModified} />
     <ArticleLD headline={title} description={description} image={image} canonical={canon} datePublished={datePublished} dateModified={dateModified} />
   </>
 : <>
     <HeadMeta type="website" title={title} description={description} image={image} canonical={canon} />
     <WebsiteLD />
   </>
}
