---
interface Props {
  headline: string; description?: string; image?: string;
  canonical?: string; datePublished?: string; dateModified?: string;
}
const url = Astro.props.canonical || new URL(Astro.url.pathname, Astro.site).toString();
const img = Astro.props.image ? new URL(Astro.props.image, Astro.site).toString() : undefined;
const data = {
  "@context": "https://schema.org", "@type": "Article",
  "headline": Astro.props.headline, "description": Astro.props.description || "",
  "image": img, "url": url, "mainEntityOfPage": url,
  "datePublished": Astro.props.datePublished || undefined,
  "dateModified": Astro.props.dateModified || Astro.props.datePublished || undefined
};
const json = JSON.stringify(data);
---
<script type="application/ld+json">{json}</script>
